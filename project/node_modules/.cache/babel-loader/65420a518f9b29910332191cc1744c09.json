{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Ivan\\\\Desktop\\\\Ivan. Work\\\\IT project\\\\tangela\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ivan\\\\Desktop\\\\Ivan. Work\\\\IT project\\\\tangela\\\\project\\\\src\\\\ItemList.js\";\nimport React, { useContext } from 'react';\nimport ItemListComponent from './ItemListComponent';\nimport { AppContext } from './App';\nimport * as BikeHandler from './BikeHandler';\nimport MapContainer from './MapContainer';\nimport './css/mapContainer.css';\nimport './css/itemList.css';\n\nfunction containsBike(bike, city, bike_type, dates) {\n  var containsCity = city === \"\" ? true : city === bike.city;\n  var containsDates = dates.length === 0 ? true : dates.some(function (d) {\n    return bike.dates.includes(d);\n  });\n  var containsType = bike_type === \"all\" ? true : bike.type === bike_type;\n  return containsCity && containsType && containsDates;\n}\n/* Class that contains ItemListComponents */\n\n\nfunction ItemList() {\n  var _useContext = useContext(AppContext),\n      city = _useContext.city,\n      bike_type = _useContext.bike_type,\n      startDate = _useContext.startDate,\n      endDate = _useContext.endDate;\n\n  var dates = BikeHandler.getDates(new Date(startDate), new Date(endDate));\n  var obj = BikeHandler.getAllBikes();\n  var bikes = Object.values(obj);\n  console.log(bike_type);\n  var result = bikes.filter(function (bike) {\n    return containsBike(bike, city, bike_type, dates);\n  });\n  console.log(result);\n  var bikes_list = [];\n  var bikeCoords = [];\n\n  for (var i = 0; i < result.length; i++) {\n    bikes_list = [].concat(_toConsumableArray(bikes_list), [React.createElement(ItemListComponent, {\n      key: result[i].id,\n      title: result[i].name,\n      price: result[i].price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })]);\n    bikeCoords.push({\n      \"lat\": result[i].lat,\n      \"lng\": result[i].lng\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"item-list-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"item-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, bikes_list), React.createElement(MapContainer, {\n    coords: bikeCoords,\n    zoom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }));\n}\n\nexport default ItemList;","map":{"version":3,"sources":["C:\\Users\\Ivan\\Desktop\\Ivan. Work\\IT project\\tangela\\project\\src\\ItemList.js"],"names":["React","useContext","ItemListComponent","AppContext","BikeHandler","MapContainer","containsBike","bike","city","bike_type","dates","containsCity","containsDates","length","some","d","includes","containsType","type","ItemList","startDate","endDate","getDates","Date","obj","getAllBikes","bikes","Object","values","console","log","result","filter","bikes_list","bikeCoords","i","id","name","price","push","lat","lng"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\r\nimport ItemListComponent from './ItemListComponent';\r\nimport {AppContext} from './App';\r\n\r\nimport * as BikeHandler from './BikeHandler';\r\nimport MapContainer from './MapContainer';\r\nimport './css/mapContainer.css';\r\nimport './css/itemList.css';\r\n\r\nfunction containsBike(bike, city, bike_type, dates) {\r\n    let containsCity = city===\"\" ? true : city===bike.city;\r\n    let containsDates = dates.length===0 ? true : dates.some(d => bike.dates.includes(d));\r\n    let containsType = bike_type===\"all\" ? true : bike.type===bike_type;\r\n    return containsCity && containsType && containsDates;\r\n}\r\n\r\n\r\n/* Class that contains ItemListComponents */\r\nfunction ItemList () {\r\n    const {city, bike_type, startDate, endDate} = useContext(AppContext);\r\n\r\n    var dates = BikeHandler.getDates(new Date(startDate), new Date (endDate));\r\n\r\n    var obj = BikeHandler.getAllBikes();\r\n    var bikes = Object.values(obj);\r\n    console.log(bike_type);\r\n    var result = bikes.filter(bike => containsBike(bike, city, bike_type, dates));\r\n    console.log(result);\r\n    var bikes_list = [];\r\n    var bikeCoords = [];\r\n\r\n    for (var i = 0; i < result.length; i++) {\r\n        bikes_list = [...bikes_list, \r\n            <ItemListComponent key={result[i].id} title={result[i].name} price={result[i].price} />];\r\n            bikeCoords.push({\"lat\":result[i].lat, \"lng\":result[i].lng});\r\n    }    \r\n    return (\r\n        <div className=\"item-list-wrapper\">\r\n            <div className=\"item-list\">\r\n                {bikes_list}\r\n            </div>\r\n            <MapContainer\r\n                coords={bikeCoords}\r\n                zoom={10}\r\n            />\r\n         </div>\r\n    );\r\n}\r\n\r\nexport default ItemList;"]},"metadata":{},"sourceType":"module"}